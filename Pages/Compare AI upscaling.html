<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Compare AI upscaling techniques including AMD FSR and video2x">
    <title>Compare AI upscaling</title>
    <link rel="icon" type="image/x-icon" href="../img/favicon.ico">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <div class="logo-container">
            <h1>AI Upscaling Technology Comparison 2023</h1>
            <img src="../img/patch.png" alt="logo">
        </div>
    </header>
    <nav>
        <button id="darkModeToggle">Toggle Dark Mode</button>
    </nav>
    <main>
        <section>
            <h2>This page start with [firstwebsideofdunc] update v0.04.1</h2>
            <p>How good is AI in 2023?</p>
            <p>Use blue slider to compare!</p>
        </section>
        <section class="comparison-section">
            <h1>Compare AMD FSR upscaling video and the Original video</h1>
            <p>AMD FidelityFX Super Resolution (FSR) is an open-source spatial upscaling technology that delivers high-quality image magnification without requiring specialized hardware. It uses edge reconstruction algorithms to maintain image detail clarity.</p>
            <div class="img-comp-container">
                <div class="img-comp-img">
                    <img src="../img/960540.png" width="960" height="540" alt="Original video">
                </div>
                <div class="img-comp-img img-comp-overlay">
                    <img src="../img/mpv.png" width="960" height="540" alt="AMD FSR upscaling video">
                </div>
            </div>
            <h1>Compare video2x Algorithms</h1>
            <p>This comparison shows two video2x algorithms: waifu2x and RealSR. waifu2x uses convolutional neural networks optimized for anime-style images, while RealSR employs real-world super-resolution deep learning models.</p>
            <div class="img-comp-container">
                <div class="img-comp-img">
                    <img src="../img/waifu2x-converter-cpp.png" width="960" height="540" alt="waifu2x algorithm">
                </div>
                <div class="img-comp-img img-comp-overlay">
                    <img src="../img/RealSR.png" width="960" height="540" alt="RealSR algorithm">
                </div>
            </div> 
            <h1>video2x vs Original</h1> 
            <p>video2x is an open-source video upscaling framework that integrates multiple AI super-resolution algorithms. This demonstrates the comparison between waifu2x engine processing and the Original image.</p>
            <div class="img-comp-container">
                <div class="img-comp-img">
                    <img src="../img/waifu2x-converter-cpp.png" width="960" height="540" alt="waifu2x engine processing">
                </div>
                <div class="img-comp-img img-comp-overlay">
                    <img src="../img/960540.png" width="960" height="540" alt="Original image">
                </div>
            </div>  
            <h1>video2x vs AMD FSR upscaling video</h1> 
            <p>This directly compares AI deep learning methods (video2x) with traditional algorithms (AMD FSR). FSR offers faster processing but may lack detail, while video2x can reconstruct more details but requires more computational resources.</p>
            <div class="img-comp-container">
                <div class="img-comp-img">
                    <img src="../img/waifu2x-converter-cpp.png" width="960" height="540" alt="video2x">
                </div>
                <div class="img-comp-img img-comp-overlay">
                    <img src="../img/mpv.png" width="960" height="540" alt="AMD FSR upscaling video">
                </div>
            </div> 
        </section>
    </main>
    <nav class="nav-buttons">
        <a href="Compare AI upscaling p2.html" class="nav-button">
            <span>Next Page</span>
        </a>
        <a href="../index.html" class="nav-button">
            <span>Main Page</span>
        </a>
    </nav>
    <footer>
        <div class="row">
            <div class="footer">
                <a href="../index.html">
                    <img src="../img/patch.png" alt="vbeta" width="42" height="50">
                </a>
                <h4>Go back to [firstwebsideofdunc] main page</h4>
            </div>
            <div class="col-md-6">
                <b>
                    <p>Thanks for watching</p>
                </b>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 firstwebsideofdunc. All rights reserved.</p>
        </div>
    </footer>
    <script>
        function initComparisons() {
            let x, i;
            /*find all elements with an "overlay" class:*/
            x = document.getElementsByClassName("img-comp-overlay");
            for (i = 0; i < x.length; i++) {
                /*once for each "overlay" element:
                pass the "overlay" element as a parameter when executing the compareImages function:*/
                compareImages(x[i]);
            }
            function compareImages(img) {
                let slider, img, clicked = 0, w, h;
                /*get the width and height of the img element*/
                w = img.offsetWidth;
                h = img.offsetHeight;
                /*set the width of the img element to 50%:*/
                img.style.width = (w / 2) + "px";
                /*create slider:*/
                slider = document.createElement("DIV");
                slider.setAttribute("class", "img-comp-slider");
                /*insert slider*/
                img.parentElement.insertBefore(slider, img);
                /*position the slider in the middle:*/
                slider.style.top = (h / 2) - (slider.offsetHeight / 2) + "px";
                slider.style.left = (w / 2) - (slider.offsetWidth / 2) + "px";
                /*execute a function when the mouse button is pressed:*/
                slider.addEventListener("mousedown", slideReady);
                /*and another function when the mouse button is released:*/
                window.addEventListener("mouseup", slideFinish);
                /*or touched (for touch screens:*/
                slider.addEventListener("touchstart", slideReady);
                /*and released (for touch screens:*/
                window.addEventListener("touchend", slideFinish);
                function slideReady(e) {
                    /*prevent any other actions that may occur when moving over the image:*/
                    e.preventDefault();
                    /*the slider is now clicked and ready to move:*/
                    clicked = 1;
                    /*execute a function when the slider is moved:*/
                    window.addEventListener("mousemove", slideMove);
                    window.addEventListener("touchmove", slideMove);
                }
                function slideFinish() {
                    /*the slider is no longer clicked:*/
                    clicked = 0;
                }
                function slideMove(e) {
                    let pos;
                    /*if the slider is no longer clicked, exit this function:*/
                    if (clicked == 0) return false;
                    /*get the cursor's x position:*/
                    pos = getCursorPos(e)
                    /*prevent the slider from being positioned outside the image:*/
                    if (pos < 0) pos = 0;
                    if (pos > w) pos = w;
                    /*execute a function that will resize the overlay image according to the cursor:*/
                    slide(pos);
                }
                function getCursorPos(e) {
                    let a, x = 0;
                    e = (e.changedTouches) ? e.changedTouches[0] : e;
                    /*get the x positions of the image:*/
                    a = img.getBoundingClientRect();
                    /*calculate the cursor's x coordinate, relative to the image:*/
                    x = e.pageX - a.left;
                    /*consider any page scrolling:*/
                    x = x - window.pageXOffset;
                    return x;
                }
                function slide(x) {
                    /*resize the image:*/
                    img.style.width = x + "px";
                    /*position the slider:*/
                    slider.style.left = img.offsetWidth - (slider.offsetWidth / 2) + "px";
                }
            }
        }
        initComparisons();
        
        // Add loading state for images
        document.querySelectorAll('.img-comp-img img').forEach(img => {
            img.classList.add('loading');
            img.onload = () => img.classList.remove('loading');
            img.onerror = () => {
                img.classList.remove('loading');
                img.classList.add('error');
                img.parentElement.innerHTML = 'Failed to load image';
                console.error(`Failed to load image: ${img.src}`); // Add error logging
            };
        });

        // Improved dark mode with transition
        document.getElementById('darkModeToggle').addEventListener('click', function() {
            document.body.style.transition = 'background-color var(--transition-speed), color var(--transition-speed)';
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        });

        // Initialize dark mode from preferences
        if (window.matchMedia('(prefers-color-scheme: dark)').matches || 
            localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
        }
    </script>
</body>
</html>
